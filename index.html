<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>ReactS</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

    <!-- Don't use this in production: -->
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
    <div id="program"></div>
    <nav role='navigation'>
  <div id="asekandutd-ginevitable">
  <input type="checkbox" />
  <span></span>
  <span></span>
  <span></span>
  <ul id="groupseparate">
  <a href="#"><li>Примеры дизайна</li></a>
  <a href="#"><li>Горизонтальное меню</li></a>
  <a href="#"><li>Как сделать меню сайта</li></a>
  <a href="#"><li>Дизайн меню сайта</li></a>

  <a href="#"><li>Предлагаемые в CSS</li></a>
  <a href="#"><li>Примеры красивого cnbkz</li></a>
  <a href="#"><li>Текстовые эффекты</li></a>
  <a href="#"><li>Оформление текста</li></a>
  <a href="#" target="_blank"><li>Коллекция потрясающих</li></a>
  </ul>
  </div>
</nav>
    <script type="text/babel">
          const place = document.getElementById("program");
//       class Block extends React.Component {
//     render() {
//       return (
//         <div>
//           <h1>{this.props.name}</h1>
//           <h2>{this.props.age}</h2>
//
//         </div>
//       );
//     }
// }
//           class Check extends React.Component {
//   constructor(props) {
//     super(props);
//     this.state = {
//       checked: true
//     };
//   };
//   handleCheck = () => {
//     this.setState({checked: !this.state.checked});
//   };
//   render() {
//     var message;
//     if (this.state.checked) {
//       message = 'выбран';
//     } else {
//       message = 'не выбран';
//     }
//     return (
//       <div>
//         <input type="checkbox" onChange={this.handleCheck} defaultChecked={this.state.checked} />
//         <p>Чекбокс {message}</p>
//       </div>
//     );
//   }
// }

    // class Check extends React.Component {
    //   constructor(props) {
    //     super(props);
    //     this.state = {
    //       checked: false
    //     };
    //   };
    //   handleCheck = () => {
    //     this.setState ({checked: !this.state.checked})
    //   };
    //   render() {
    //     var message;
    //     if (this.state.checked) {
    //       message = 'on';
    //     } else {
    //       message = 'off';
    //     }
    //     return (
    //       <div>
    //         <input type="checkbox" onChange = {this.handleCheck} defaultChecked = {this.state.checked}/>
    //         <p>Light {message}</p>
    //       </div>
    //     );
    //   }
    //
    // }

          class Task extends React.Component {

            constructor(props) {
              super(props);
              this.state = {
                edit: false
              };
            };

            edit = () => {
                  this.setState({edit: true});
                };

                save = () => {
                  var value = this.refs.newTxt.value;
                    this.props.update (this.refs.newTxt.value, this.props.index);
                    this.setState ({edit: false})
                  };

                remove = () => {
                  this.props.deleteBlock (this.props.index);
                };

                rendNorm = () => {
                  return (
                    <div className = "box">
                    <div className="text">{this.props.children}</div>
                    <button onClick = {this.edit} className="btn light">Редактировать</button>
                    <button onClick = {this.remove} className="btn red">Удалить</button>
                    </div>
                  );
                };

                rendEdit = () => {
                  return (
                    <div className = "box">
                    <textarea ref = "newTxt" defaultValue = {this.props.children}></textarea>
                    <button onClick = {this.save} className="btn success">Сохранить</button>

                    </div>
                  );
                };

                render() {
                if (this.state.edit) {
                  return this.rendEdit();
                } else {
                  return this.rendNorm();
                }
            }
          }

          class Field extends React.Component {

            constructor(props) {
              super(props);
              this.state = {
                tasks: []

              };
            };

            add = (text) => {
              var arr = this.state.tasks;
              arr.push(text);
              this.setState({tasks: arr});
            };

            deleteBlock = (i) => {
              var arr = this.state.tasks;
              arr.splice (i, 1);
              this.setState ({tasks: arr});
            };

            updateText = (text, i) => {
              var arr = this.state.tasks;
              arr[i] = text;
              this.setState ({tasks: arr});
            };

            eachTask = (item, i) => {
              return (
                <Task key={i} index={i} update = {this.updateText} deleteBlock = {this.deleteBlock}>
                  {item}
                </Task>
              );
            };

            render() {
              return (
                <div className="field">
                <button onClick = {this.add.bind(null, 'Новое задание')} className="btn new">Новое задание</button>
                  {this.state.tasks.map (this.eachTask)}
                </div>
              );
            }
          }



      ReactDOM.render (<Field /> ,place);
    </script>
  </body>
</html>
